<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Optimizaci√≥n de rendimiento web para dinosaurios</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background="https://media.giphy.com/media/NSodIu91KDWCs/giphy.gif">
					<h1 style="text-shadow: 0 0 10px rgba(0,0,0,1), 0 0 5px rgba(0,0,0,0.5)">Optimizaci√≥n de rendimiento web para dinosaurios</h1>
				</section>
				<section>
					<h3>Jos√© Manuel Lucas / @jmlweb</h3>
					<h4>Lead Frontend Developer @pccomponentes</h4>
					<p><del>Freelance</del></p>
					<p><del>Series Yonkis</del></p>
					<p><del>Digio</del></p>
				</section>
				<section>
					<h3>Conceptos importantes</h3>
					<ul>
						<li>First byte</li>
						<li>Start render</li>
						<li>Fully loaded</li>
						<li><a href="https://sites.google.com/a/webpagetest.org/docs/using-webpagetest/metrics/speed-index" target="_blank">Speed Index</a></li>
					</ul>
				</section>
				<section>
					<h3>¬øC√≥mo medir el tiempo de carga?</h3>
					<p><a href="http://webpagetest.org" target="_blank">webpagetest.org</a></p>
					<p>Conexi√≥n 3G r√°pida</p>
					<p>Emular navegador m√≥vil</p>
				</section>
				<section>
					<h3><a href="https://www.webpagetest.org/result/170420_0F_B8D/" target="_blank">Un ejemplo</a></h3>
				</section>
				<section>
					<h3>Frontend en 2017</h3>
					<ul>
						<li>ES6/ES7</li>
						<li>React/Angular/Vue</li>
						<li>Universal/Isomorphic</li>
						<li>PWA</li>
						<li>Webpack Code Splitting</li>
						<li>BEM/Atomic/SuitCSS</li>
					</ul>
				</section>
				<section>
					<h3>Nuestro frontend inicial</h3>
					<ul>
						<li>jQuery v1.91</li>
						<li>Bootstrap 4 (alpha 2)</li>
						<li>Sass compilado localmente (directorio compartido)</li>
						<li>CSS se sube por FTP</li>
						<li>Fuera de repositorio GIT, Jenkins y dem√°s</li>
						<li>Cloudflare</li>
					</ul>
				</section>
				<section>
					<h2>¬øY por qu√© no?</h2>
					<ul>
						<li class="fragment grow">Rehacer la p√°gina</li>
						<li class="fragment grow">Migrar a un sistema modular</li>
						<li class="fragment grow">Dejar de cargar X fichero/feature</li>
						<li class="fragment grow">Usar el stack de moda</li>
					</ul>
				</section>
				<section>
					<p>Hay MUCHO c√≥digo y necesito pagar mi casa.</p>
					<p>Mi jefe tambi√©n necesita pagar las suyas.</p>
					<iframe src="//giphy.com/embed/qbd9gWm8MxlG8?html5=true&hideSocial=true" width="400.79999999999995" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
				</section>
				<section data-background="https://media.giphy.com/media/2dQ3FMaMFccpi/giphy.gif">
					<h2 style="text-shadow: 0 0 10px rgba(0,0,0,1), 0 0 5px rgba(0,0,0,0.5)">Cloudflare</h2>
				</section>
				<section>
					<h3>Cloudflare üíñ</h3>
					<ul>
						<li>CDN</li>
						<li>HTTP/2 y SPDY</li>
						<li>WebP y compresi√≥n de im√°genes "on demand"</li>
						<li>Cach√©</li>
						<li>Anti DDOS</li>						
					</ul>
				</section>
				<section>
					<h3>CDN</h3>
					<p>El cliente puede descargar los assets desde el datacenter m√°s cercano.</p>
					<p>Menor latencia y tiempo de descarga.</p>
				</section>
				<section>
					<h3>HTTP/2</h3>
					<p>Multiplexaci√≥n de conexiones: Descargas simult√°neas</p>
				</section>
				<section data-background="https://i.blogs.es/016855/peticiones_http2/1366_2000.jpg">
				</section>
				<section>
					<iframe src="https://player.vimeo.com/video/148855633?title=0&byline=0&portrait=0" width="1024" height="576" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
				</section>
				<section>
					<h3>WebP</h3>
					<p>Im√°genes en torno a un 35% m√°s ligeras</p>
					<p>Se intercepta la petici√≥n buscando la cabecera:</p>
					<p><strong>accept:</strong>image/webp,image/*,*/*;q=0.8</p>
					<p>Si la encuentra devuelve el mime y la imagen adecuada</p>
				</section>
				<section>
					<p><strong>Request URL:</strong> https://cdn.pccomponentes.com/img/iconos/menu-arrows-superfamilia.png</p>
					<p><strong>content-disposition:</strong> inline; filename="menu-arrows-superfamilia.webp"</p>
					<p><strong>content-type:</strong> image/webp</p>
				</section>
				<section>
					<h3>¬øPor d√≥nde empezamos?</h3>
					<p>Carga as√≠ncrona de fuentes y almacenamiento en LocalStorage</p>
					<p>Carga as√≠ncrona de herramientas externas (an√°lisis, m√©tricas y dem√°s)</p>
					<p>Lazy loading de contenidos "escondidos" (tabs, modales...)</p>
					<p>Concatenaci√≥n de ficheros CSS base</p>
				</section>
				<section>
					<h3>Preparando un stack frontend (medio) en condiciones</h3>
					<p>Integraci√≥n de ficheros fuente en repositorio</p>
					<p>Gulp: Sass, PostCSS, imagemin, rev...</p>
					<p>Tests unitarios y de retrospecci√≥n</p>
				</section>
				<section>
					<h3>Preparando un sistema de dise√±o modular</h3>
					<p>Basado en BEMITCSS</p>
					<p>Reducci√≥n de la especifidad</p>
					<p>Reutilizaci√≥n de c√≥digo</p>
				</section>
				<section>
					<h3>¬øPodemos hacer una prueba controlada?</h3>
					<p>Cabecera</p>
					<p>Men√∫</p>
				</section>
				<section>
					<h3>¬øQu√© p√°ginas son m√°s importantes?</h3>
					<ul>
						<li class="fragment grow">Portada</li>
						<li class="fragment grow">Listados</li>
						<li class="fragment grow">Detalle de producto</li>
					</ul>
					<p class="fragment grow">¬°¬°¬°A recodificar!!!</p>
				</section>
				<section>
					<h3>Optimizaci√≥n b√°sica de javascript</h3>
					<ul>
						<li>Cacheo de selectores</li>
						<li>Evitar modificaciones del DOM en bucle</li>
						<li>No abusar de las closures anidadas</li>
						<li>Reducir variables globales</li>
						<li>Minimizar el uso de setTimeout y setInterval</li>
					</ul>
				</section>
				<section>
					<h3>Turno de preguntas</h3>
				</section>
				<section>
					<iframe src="//giphy.com/embed/xUPOqo6E1XvWXwlCyQ?html5=true&hideSocial=true" width="480" height="270" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
